@{
    ViewBag.Title = "Recuperar Contraseña";
    Layout = "~/Views/Shared/_LayoutLoged.cshtml";
    var mensaje = TempData["Mensaje"] as string;
}

<!-- Modal Bootstrap -->
<div class="modal fade" id="mensajeModal" tabindex="-1" aria-labelledby="mensajeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content shadow-lg">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="mensajeModalLabel">Recuperación de Contraseña</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body text-center">
                <p>@mensaje</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<!-- Vista principal -->
<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-body">
            <h3 class="card-title text-center">Recuperar Contraseña</h3>
            <p class="text-center">Ingresa tu correo electrónico para recibir un código de verificación.</p>

            <form method="post" action="@Url.Action("EnviarRecuperacion", "Recuperacion")">
                <div class="mb-3">
                    <label for="email" class="form-label">Correo Electrónico</label>
                    <input type="email" class="form-control" id="email" name="email" required />
                </div>

                <div class="d-grid">
                    <button type="submit" class="btn btn-primary">Enviar Código</button>
                </div>
            </form>

            <p class="mt-3 text-center">
                ¿Recuperaste tu contraseña? <a href="@Url.Action("Login", "Home")">Iniciar sesión</a>
            </p>
        </div>
    </div>
</div>

<!-- Script para mostrar modal -->
@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var mensaje = "@mensaje";
            if (mensaje && mensaje.length > 0) {
                var myModal = new bootstrap.Modal(document.getElementById('mensajeModal'));
                myModal.show();
            }
        });
    </script>
}